"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9016],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>f});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),p=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=p(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,f=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return n?o.createElement(f,r(r({ref:t},s),{},{components:n})):o.createElement(f,r({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6926:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var o=n(7462),a=(n(7294),n(3905));const i={},r="Configuration",l={unversionedId:"configuration/index",id:"configuration/index",title:"Configuration",description:"App Settings",source:"@site/docs/configuration/index.md",sourceDirName:"configuration",slug:"/configuration/",permalink:"/Mockaco/docs/configuration/",draft:!1,editUrl:"https://github.com/natenho/Mockaco/tree/master/website/docs/configuration/index.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Generator",permalink:"/Mockaco/docs/generator/"},next:{title:"Health Checks",permalink:"/Mockaco/docs/health-checks/"}},c={},p=[{value:"App Settings",id:"app-settings",level:3},{value:"Environment variables",id:"environment-variables",level:3},{value:"Command line",id:"command-line",level:3},{value:"Mockaco",id:"mockaco",level:2},{value:"<code>DefaultHttpStatusCode</code>",id:"defaulthttpstatuscode",level:3},{value:"<code>ErrorHttpStatusCode</code>",id:"errorhttpstatuscode",level:3},{value:"<code>DefaultHttpContentType</code>",id:"defaulthttpcontenttype",level:3},{value:"<code>References</code>",id:"references",level:3},{value:"<code>Imports</code>",id:"imports",level:3},{value:"<code>MatchedRoutesCacheDuration</code>",id:"matchedroutescacheduration",level:3},{value:"<code>MockacoEndpoint</code>",id:"mockacoendpoint",level:3},{value:"<code>VerificationEndpointName</code>",id:"verificationendpointname",level:3},{value:"<code>TemplateFileProvider</code>",id:"templatefileprovider",level:3},{value:"<code>Path</code>",id:"path",level:4},{value:"<code>Serilog</code>",id:"serilog",level:2}],s={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"configuration"},"Configuration"),(0,a.kt)("h3",{id:"app-settings"},"App Settings"),(0,a.kt)("p",null,"The configuration for Mockaco can be easily customized using the appsettings*.json files located within the Settings folder. These files allow you to configure various options ",(0,a.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration"},"provided by ASP.NET Core"),"."),(0,a.kt)("p",null,"Here are the different appsettings*.json files and their purposes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"appsettings.Production.json"),": Use this file to customize Mockaco when running it as an executable or dotnet tool."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"appsettings.Docker.json"),": This file is specifically used to customize Mockaco when running in a Docker container."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("em",{parentName:"li"},"appsettings.Development.json"),": When running Mockaco in debug mode, such as inside Visual Studio, you can use this file to customize its behavior. This environment is typically set through the launchSettings.json file.")),(0,a.kt)("p",null,"These appsettings*.json files provide a convenient way to adjust Mockaco's settings based on the specific environment in which it is running."),(0,a.kt)("p",null,"To customize Mockaco, locate the appropriate appsettings*.json file based on your deployment scenario and modify the configuration options according to your requirements."),(0,a.kt)("p",null,"For instance you could override the default URLs Mockaco will listen to, just by changing the configuration like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Urls": "http://+:8080;https://+:8443"\n}\n')),(0,a.kt)("h3",{id:"environment-variables"},"Environment variables"),(0,a.kt)("p",null,"You can also use ",(0,a.kt)("strong",{parentName:"p"},"environment variables")," to override the configuration. For example, you can set the ",(0,a.kt)("inlineCode",{parentName:"p"},"ASPNETCORE_URLS")," environment variable to ",(0,a.kt)("inlineCode",{parentName:"p"},"http://+:8080;https://+:8443")," to achieve the same result as the appsettings.json example."),(0,a.kt)("p",null,"Another way to set the configuration is through command line arguments."),(0,a.kt)("h3",{id:"command-line"},"Command line"),(0,a.kt)("p",null,"To pass mockaco specific options through ",(0,a.kt)("strong",{parentName:"p"},"command line"),", you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"--Mockaco")," prefix. For example, to set the ",(0,a.kt)("inlineCode",{parentName:"p"},"DefaultHttpStatusCode")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"NotFound")," you can use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet mockaco run --Mockaco:DefaultHttpStatusCode=NotFound\n")),(0,a.kt)("p",null,"Please refer to the ",(0,a.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration"},"ASP.NET Core documentation")," for more information on how to customize the configuration."),(0,a.kt)("p",null,"Mockaco specific options are listed in the next topics."),(0,a.kt)("h2",{id:"mockaco"},"Mockaco"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "Mockaco": {\n        "DefaultHttpStatusCode": "OK",\n        "ErrorHttpStatusCode": "NotImplemented",\n        "DefaultHttpContentType": "application/json",\n        "References": [],\n        "Imports": [],\n        "MatchedRoutesCacheDuration": 60,\n        "MockacoEndpoint": "_mockaco",\n        "VerificationEndpointName": "verification"\n    }\n}\n')),(0,a.kt)("h3",{id:"defaulthttpstatuscode"},(0,a.kt)("inlineCode",{parentName:"h3"},"DefaultHttpStatusCode")),(0,a.kt)("p",null,"Set the default HTTP status code returned when the mock does not specify one."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"OK")," (200)"),(0,a.kt)("h3",{id:"errorhttpstatuscode"},(0,a.kt)("inlineCode",{parentName:"h3"},"ErrorHttpStatusCode")),(0,a.kt)("p",null,"Set the default HTTP status code in case there is no matching mock available."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"NotImplemented")," (501)"),(0,a.kt)("h3",{id:"defaulthttpcontenttype"},(0,a.kt)("inlineCode",{parentName:"h3"},"DefaultHttpContentType")),(0,a.kt)("p",null,"Set the default HTTP ",(0,a.kt)("inlineCode",{parentName:"p"},"Content-Type")," header response when the mock does not specify one."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"application/json")),(0,a.kt)("h3",{id:"references"},(0,a.kt)("inlineCode",{parentName:"h3"},"References")),(0,a.kt)("p",null,"A list of additional references to other .NET assemblies to extend scripting engine."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"[]")),(0,a.kt)("h3",{id:"imports"},(0,a.kt)("inlineCode",{parentName:"h3"},"Imports")),(0,a.kt)("p",null,"A list of additional namespaces to be imported and made available in scripting engine. It is the same as calling ",(0,a.kt)("inlineCode",{parentName:"p"},"using")," in C#."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"[]")),(0,a.kt)("h3",{id:"matchedroutescacheduration"},(0,a.kt)("inlineCode",{parentName:"h3"},"MatchedRoutesCacheDuration")),(0,a.kt)("p",null,"Set the cache duration in minutes to be used by the verification endpoint."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"60")),(0,a.kt)("h3",{id:"mockacoendpoint"},(0,a.kt)("inlineCode",{parentName:"h3"},"MockacoEndpoint")),(0,a.kt)("p",null,"The exclusive endpoint to access internal features."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"_mockaco")),(0,a.kt)("h3",{id:"verificationendpointname"},(0,a.kt)("inlineCode",{parentName:"h3"},"VerificationEndpointName")),(0,a.kt)("p",null,"The name of the verification endpoint."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"verification")),(0,a.kt)("h3",{id:"templatefileprovider"},(0,a.kt)("inlineCode",{parentName:"h3"},"TemplateFileProvider")),(0,a.kt)("p",null,"Configure the mock template file provider."),(0,a.kt)("h4",{id:"path"},(0,a.kt)("inlineCode",{parentName:"h4"},"Path")),(0,a.kt)("p",null,"Define the mock template files path."),(0,a.kt)("p",null,"Default: ",(0,a.kt)("inlineCode",{parentName:"p"},"Mocks")),(0,a.kt)("h2",{id:"serilog"},(0,a.kt)("inlineCode",{parentName:"h2"},"Serilog")),(0,a.kt)("p",null,"Configure ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/serilog/serilog-settings-configuration"},"Serilog logger")),(0,a.kt)("p",null,"Just as Mockaco options, to pass Serilog specific options through command line, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"--Serilog")," prefix. For example, to set the ",(0,a.kt)("inlineCode",{parentName:"p"},"MinimumLevel")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"Information")," you can use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet mockaco run --Serilog:MinimumLevel=Information\n")))}d.isMDXComponent=!0}}]);